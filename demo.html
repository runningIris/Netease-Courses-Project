<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Demo</title>
</head>
<body>
	<div id="show"></div>
	<script>
	var obj;
	var k;
	var getAjax = function(data){
		var obj = {
			type: data.type || 'GET',
			url: data.url,
			sync: data.sync || 'true',
			contentType: data.contentType || 'application/x-www-form-urlencoded',
			success: data.success
		}

		var xhr;
		if(window.XMLHttpRequest){
			xhr = new XMLHttpRequest();
		} else{
			xhr = new ActiveXObject('Microsoft.XMLHTTP');
		}

		xhr.open(obj.type, obj.url, obj.sync)
		xhr.setRequestHeader('Content-type', obj.contentType)
		if(obj.type === 'GET'){
			xhr.send(null);
		} else{
			xhr.send('Content-type', obj.contentType);
		}
		xhr.onreadystatechange = function(){
			if(xhr.readyState == 4 && xhr.status == 200){
				var data = JSON.parse(xhr.responseText);
				obj.success(data);
			}
		}
	}
	
	var data = {
		url: 'http://study.163.com/webDev/couresByCategory.htm?pageNo=1&psize=15&type=10',
		async: true,
		success: function(data){
			obj={
				'totalCount': data['totalCount'],
				'totalPage': data['totalPage'],
				'pagination': {
					'pageIndex': data['pageIndex'],
					'pageSize': data['pageSize'],
					'totlePageCount': data['totlePageCount']
				},
				// 'list': [],
			}
			k = data;
			obj.list = new Array(data.list.length);
			for(var i = 0; i < data.list.length; i++){
				obj.list[i] = {};
				obj.list[i]['name'] = data.list[i]['name'];
				obj.list[i]['bigPhotoUrl'] = data.list[i]['bigPhotoUrl'];
				obj.list[i]['middlePhotoUrl'] = data.list[i]['middlePhotoUrl'];
				obj.list[i]['smallPhotoUrl'] = data.list[i]['smallPhotoUrl'];
				obj.list[i]['provider'] = data.list[i]['provider'];
				obj.list[i]['learnerCount'] = data.list[i]['learnerCount'];
				obj.list[i]['price'] = data.list[i]['price'];
				obj.list[i]['categoryName'] = data.list[i]['categoryName'];
			}
		}
	}

	getAjax(data);

	// var obj = {}
	// obj['totalPage']=object['totalPage']
	// 	'totalCount': object['totalCount'],
	// 	'totalPage': object['totalPage'],
	// 	'pagination': {
	// 		'pageIndex': object['pageIndex'],
	// 		'pageSize': object['pageSize'],
	// 		'totlePageCount': object['totlePageCount']
	// 	},
	// 	list: [],
	// }
	// for(var i = 0; i < obj.list.length; i++){
	// 	obj.list[i]['name'] = object.list[i]['name'];
	// 	obj.list[i]['bigPhotoUrl'] = object.list[i]['bigPhotoUrl'];
	// 	obj.list[i]['middlePhotoUrl'] = object.list[i]['middlePhotoUrl'];
	// 	obj.list[i]['smallPhotoUrl'] = object.list[i]['smallPhotoUrl'];
	// 	obj.list[i]['provider'] = object.list[i]['provider'];
	// 	obj.list[i]['learnerCount'] = object.list[i]['learnerCount'];
	// 	obj.list[i]['price'] = object.list[i]['price'];
	// 	obj.list[i]['categoryName'] = object.list[i]['categoryName'];
	// }
</script>
</body>
</html>